<!DOCTYPE html>
<html>
    <head>
        <title>Testing</title>
        <script src="polymer-paper/platform/platform.js"></script>
        
        <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
        <script src="http://d3js.org/topojson.v1.min.js"></script>
        <!--<script src="js/datamaps.world.min.js"></script>-->
        <script src="js/datamaps.all.js"></script>
        
        <script src="js/taffydb/taffy.js"></script>
        
        <script src="js/core-classes.js" type="text/javascript"></script>
        <script src="js/instance-creation.js" type="application/javascript"></script>
        
        <link rel="import" href="polymer-paper/core-toolbar/core-toolbar.html">
        <link rel="import" href="polymer-paper/core-icons/core-icons.html">
        <link rel="import" href="polymer-paper/core-field/core-field.html">
        
        <link rel="stylesheet" type="text/css" href="css/reset-stylesheet.css">
    </head>

    <body>
        <core-toolbar>
            <core-icon icon="search"></core-icon>
            <core-field>
                <input placeholder="Search for product ID" flex>
            </core-field>
        </core-toolbar>
        <div id="map-container" style="position:relative; margin:auto; width:80%; height: 600px;"></div>
        
        <script>
            var map = new Datamaps({
                element: document.getElementById("map-container"),
                fills: {
                    defaultFill: 'rgb(171, 221, 164)',
                    bubbles: 'rgb(0, 0, 180)'
                }
            });
            
            testArcs = [{
                origin: {
                    latitude:  manufacturers({name: "Badgerconn Electronics"}).first().location.latitude,
                    longitude: manufacturers({name: "Badgerconn Electronics"}).first().location.longitude
                },
                destination: {
                    latitude:  manufacturers({name: "Mapple Computers"}).first().location.latitude,
                    longitude: manufacturers({name: "Mapple Computers"}).first().location.longitude
                },
                options: {
                    strokeWidth: 2,
                    strokeColor: 'rgb(0, 0, 130)'
                }
            }];
            map.arc(testArcs);
            
            testBubbles = [{
                name:       "Mapple Computers",
                radius:     8,
                fillKey:    'bubbles',
                latitude:   manufacturers({name: "Mapple Computers"}).first().location.latitude,
                longitude:  manufacturers({name: "Mapple Computers"}).first().location.longitude
            }, {
                name:       "Badgerconn Electronics",
                radius:     8,
                fillKey:    'bubbles',
                latitude:   manufacturers({name: "Badgerconn Electronics"}).first().location.latitude,
                longitude:  manufacturers({name: "Badgerconn Electronics"}).first().location.longitude
            }];
            map.bubbles(testBubbles);
            
            
        </script>
    </body>
</html>