<!DOCTYPE html>
<html>
    <head>
        <title>Testing</title>
        <script src="polymer-paper/platform/platform.js"></script>
        <link href='//fonts.googleapis.com/css?family=RobotoDraft:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en' rel='stylesheet' type='text/css'>

        
        <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
        <script src="http://d3js.org/topojson.v1.min.js"></script>
        <!--<script src="js/datamaps.world.min.js"></script>-->
        <script src="js/datamaps.all.js"></script>
        
        <script src="js/taffydb/taffy.js"></script>
        
        <script src="js/core-classes.js" type="text/javascript"></script>
        <script src="js/instance-creation.js" type="application/javascript"></script>
        
        <link rel="import" href="polymer-paper/core-toolbar/core-toolbar.html">
        <link rel="import" href="polymer-paper/core-icons/core-icons.html">
        <link rel="import" href="polymer-paper/core-input/core-input.html">
        <link rel="import" href="polymer-paper/paper-shadow/paper-shadow.html">
        
        <link rel="stylesheet" type="text/css" href="css/reset-stylesheet.css">
        <link rel="stylesheet" type="text/css" href="css/main.css">
    </head>

    <body onload="onloadFun()">
        <core-toolbar id="toolbar">
            <paper-shadow z="1"></paper-shadow>
            <core-icon id="search-icon" icon="search"></core-icon>
            <core-input id="search-field" placeholder="Search for product ID"></core-input>
        </core-toolbar>
        <div id="map-container" style="position:relative; margin:auto; width:80%; height: 600px;"></div>
        
        <script>
            var map = new Datamaps({
                element: document.getElementById("map-container"),
                fills: {
                    defaultFill: 'rgb(171, 221, 164)',
                    bubbles: 'rgb(0, 0, 180)'
                },
                geographyConfig: {
                    hideAntarctica: false
                },
                projection: 'mercator',
                arcConfig: {
                    animationSpeed:     200
                }
            });
            
            testArcs = [{
                origin: {
                    latitude:  manufacturers({name: "Badgerconn Electronics"}).first().location.latitude,
                    longitude: manufacturers({name: "Badgerconn Electronics"}).first().location.longitude
                },
                destination: {
                    latitude:  manufacturers({name: "Mapple Computers"}).first().location.latitude,
                    longitude: manufacturers({name: "Mapple Computers"}).first().location.longitude
                },
                options: {
                    strokeWidth: 2,
                    strokeColor: 'rgb(0, 0, 130)'
                }
            }];
            //map.arc(testArcs);
            
            testBubbles = [{
                name:       "Mapple Computers",
                radius:     8,
                fillKey:    'bubbles',
                latitude:   manufacturers({name: "Mapple Computers"}).first().location.latitude,
                longitude:  manufacturers({name: "Mapple Computers"}).first().location.longitude
            }, {
                name:       "Badgerconn Electronics",
                radius:     8,
                fillKey:    'bubbles',
                latitude:   manufacturers({name: "Badgerconn Electronics"}).first().location.latitude,
                longitude:  manufacturers({name: "Badgerconn Electronics"}).first().location.longitude
            }];
            //map.bubbles(testBubbles);
            
            onloadFun = function () {
                map.bubbles(testBubbles);
                map.arc(testArcs);
            }
        </script>
    </body>
</html>